# Docker Compose para AWS - SafeStock
# Este arquivo sobrescreve configurações específicas para deploy na AWS

services:
  front:
    build:
      args:
        BUILD_MODE: prod  # Usa .env.production (IP da EC2)

  back-antigo:
    environment:
      - FRONTEND_URL=http://${AWS_EC2_IP:-localhost}

  back-refatorado:
    environment:
      - FRONTEND_URL=http://${AWS_EC2_IP:-localhost}

# Para usar na AWS:
# docker compose -f docker-compose.yml -f docker-compose.aws.yml --profile antigo up -d
